{"ast":null,"code":"// components/Dashboard.jsx\nimport React,{useState,useEffect}from'react';import{Box,Grid,Paper,Typography,Card,CardContent,CircularProgress,Alert,TextField,Button,FormControlLabel,Switch}from'@mui/material';import{Phone,CheckCircle,Cancel,TrendingUp,AccessTime,People}from'@mui/icons-material';import{dashboardAPI,callsAPI}from'../services/api';import{format}from'date-fns';import{es}from'date-fns/locale';import{LineChart,Line,BarChart,Bar,PieChart,Pie,Cell,XAxis,YAxis,CartesianGrid,Tooltip,Legend,ResponsiveContainer}from'recharts';// Componente de tarjeta de estadística\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const StatCard=_ref=>{let{title,value,subtitle,icon:Icon,color,trend}=_ref;return/*#__PURE__*/_jsx(Card,{sx:{height:'100%',position:'relative',overflow:'visible'},children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'flex-start'},children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{color:\"text.secondary\",gutterBottom:true,variant:\"overline\",children:title}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"div\",fontWeight:\"bold\",children:value}),subtitle&&/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{mt:1},children:subtitle}),trend&&/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mt:1},children:[/*#__PURE__*/_jsx(TrendingUp,{sx:{fontSize:16,mr:0.5,color:trend>0?'success.main':'error.main'}}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:trend>0?'success.main':'error.main',children:[trend>0?'+':'',trend,\"% vs ayer\"]})]})]}),/*#__PURE__*/_jsx(Box,{sx:{bgcolor:\"\".concat(color,\".main\"),borderRadius:2,p:1.5,color:'white'},children:/*#__PURE__*/_jsx(Icon,{sx:{fontSize:32}})})]})})});};const Dashboard=()=>{var _mainData,_comparisonData,_mainData2,_comparisonData2,_mainData3,_mainData4,_mainData5,_mainData6,_mainData7,_mainData8,_mainData9,_mainData0,_mainData1,_mainData10,_mainData11,_mainData12,_mainData13,_mainData14,_mainData15,_mainData16;const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[data,setData]=useState(null);const[lastUpdate,setLastUpdate]=useState(new Date());const[hourlyData,setHourlyData]=useState([]);const[dispositionData,setDispositionData]=useState([]);// Filtros de fecha\nconst today=new Date().toISOString().split('T')[0];const yesterday=new Date(Date.now()-24*60*60*1000).toISOString().split('T')[0];const[selectedDate,setSelectedDate]=useState(today);const[useRealtime,setUseRealtime]=useState(true);const fetchData=async function(){let dateToFetch=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;try{var _hourlyResponse$data$,_dispositionResponse$;setError(null);const response=await dashboardAPI.getSummary();setData(response.data.data);// Usar la fecha seleccionada o la actual (asegurarse de que sea string)\nlet targetDate=dateToFetch||selectedDate||today;// Si es un objeto Date, convertir a string\nif(targetDate instanceof Date){targetDate=targetDate.toISOString().split('T')[0];}// Cargar datos para gráficos\nconst hourlyResponse=await callsAPI.getHourlyDistribution(targetDate,targetDate);setHourlyData(((_hourlyResponse$data$=hourlyResponse.data.data)===null||_hourlyResponse$data$===void 0?void 0:_hourlyResponse$data$.data)||[]);const dispositionResponse=await callsAPI.getDispositionSummary(targetDate,targetDate);setDispositionData(((_dispositionResponse$=dispositionResponse.data.data)===null||_dispositionResponse$===void 0?void 0:_dispositionResponse$.data)||[]);setLastUpdate(new Date());}catch(err){setError(err.message);}finally{setLoading(false);}};useEffect(()=>{fetchData();// Actualizar cada 30 segundos solo si está en modo tiempo real\nlet interval;if(useRealtime){interval=setInterval(fetchData,30000);}return()=>{if(interval)clearInterval(interval);};},[useRealtime,selectedDate]);if(loading){return/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',alignItems:'center',minHeight:'60vh'},children:/*#__PURE__*/_jsx(CircularProgress,{size:60})});}if(error){return/*#__PURE__*/_jsxs(Alert,{severity:\"error\",sx:{m:2},children:[\"Error al cargar el dashboard: \",error]});}const{today:todayData,yesterday:yesterdayData,week,queues,agents}=data;// Determinar qué datos mostrar según la fecha seleccionada\nlet mainData,comparisonData,periodLabel;if(useRealtime){// Modo tiempo real: muestra hoy si tiene datos, sino ayer\nconst hasDataToday=((todayData===null||todayData===void 0?void 0:todayData.total_calls)||0)>0;mainData=hasDataToday?todayData:yesterdayData;comparisonData=hasDataToday?yesterdayData:null;periodLabel=hasDataToday?'Hoy':'Ayer (Últimos datos)';}else{// Modo manual: mostrar la fecha seleccionada\nif(selectedDate===today){mainData=todayData;comparisonData=yesterdayData;periodLabel='Hoy';}else if(selectedDate===yesterday){mainData=yesterdayData;comparisonData=null;periodLabel='Ayer';}else{// Para otras fechas, usar los datos de ayer como referencia\nmainData=yesterdayData;comparisonData=null;periodLabel=new Date(selectedDate).toLocaleDateString('es-ES',{day:'numeric',month:'short'});}}// Calcular tendencias\nconst calculateTrend=(current,previous)=>{if(!previous||previous===0)return 0;return Math.round((current-previous)/previous*100);};const callsTrend=comparisonData?calculateTrend(((_mainData=mainData)===null||_mainData===void 0?void 0:_mainData.total_calls)||0,((_comparisonData=comparisonData)===null||_comparisonData===void 0?void 0:_comparisonData.total_calls)||0):0;const answeredTrend=comparisonData?calculateTrend(((_mainData2=mainData)===null||_mainData2===void 0?void 0:_mainData2.answered_calls)||0,((_comparisonData2=comparisonData)===null||_comparisonData2===void 0?void 0:_comparisonData2.answered_calls)||0):0;// Contar agentes activos\nconst activeAgents=(agents===null||agents===void 0?void 0:agents.filter(a=>a.status!=='UNAVAILABLE').length)||0;return/*#__PURE__*/_jsxs(Box,{sx:{flexGrow:1,p:3},children:[/*#__PURE__*/_jsxs(Box,{sx:{mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",fontWeight:\"bold\",gutterBottom:true,children:\"Dashboard General\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[\"\\xDAltima actualizaci\\xF3n: \",format(lastUpdate,\"dd 'de' MMMM, HH:mm:ss\",{locale:es})]})]}),/*#__PURE__*/_jsxs(Paper,{sx:{p:2,mb:3},children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:useRealtime,onChange:e=>setUseRealtime(e.target.checked),color:\"primary\"}),label:\"Auto-actualizaci\\xF3n (Tiempo Real)\"})}),!useRealtime&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(TextField,{label:\"Fecha\",type:\"date\",value:selectedDate,onChange:e=>setSelectedDate(e.target.value),InputLabelProps:{shrink:true},fullWidth:true,size:\"small\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:2,children:/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:()=>setSelectedDate(today),fullWidth:true,size:\"small\",children:\"Hoy\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:2,children:/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:()=>setSelectedDate(yesterday),fullWidth:true,size:\"small\",children:\"Ayer\"})})]}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:useRealtime?2:1,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:fetchData,fullWidth:true,size:\"small\",disabled:loading,children:\"Actualizar\"})})]}),!useRealtime&&/*#__PURE__*/_jsxs(Alert,{severity:\"info\",sx:{mt:2},children:[\"Modo manual activado. Mostrando datos de: \",/*#__PURE__*/_jsx(\"strong\",{children:periodLabel}),selectedDate===today&&((todayData===null||todayData===void 0?void 0:todayData.total_calls)||0)===0&&/*#__PURE__*/_jsx(_Fragment,{children:\" - No hay llamadas registradas a\\xFAn para hoy.\"})]})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,sx:{mb:3},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(StatCard,{title:\"Llamadas \".concat(periodLabel),value:((_mainData3=mainData)===null||_mainData3===void 0?void 0:_mainData3.total_calls)||0,subtitle:\"\".concat((week===null||week===void 0?void 0:week.total_calls)||0,\" esta semana\"),icon:Phone,color:\"primary\",trend:callsTrend})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(StatCard,{title:\"Contestadas\",value:((_mainData4=mainData)===null||_mainData4===void 0?void 0:_mainData4.answered_calls)||0,subtitle:\"\".concat(((_mainData5=mainData)===null||_mainData5===void 0?void 0:_mainData5.answer_rate)||0,\"% tasa de respuesta\"),icon:CheckCircle,color:\"success\",trend:answeredTrend})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(StatCard,{title:\"Abandonadas\",value:((_mainData6=mainData)===null||_mainData6===void 0?void 0:_mainData6.abandoned_calls)||0,subtitle:\"\".concat(Math.round((((_mainData7=mainData)===null||_mainData7===void 0?void 0:_mainData7.abandoned_calls)||0)/(((_mainData8=mainData)===null||_mainData8===void 0?void 0:_mainData8.total_calls)||1)*100),\"% del total\"),icon:Cancel,color:\"error\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(StatCard,{title:\"Agentes\",value:activeAgents>0?activeAgents:4,subtitle:activeAgents>0?\"\".concat((agents===null||agents===void 0?void 0:agents.length)||0,\" total\"):'4 configurados',icon:People,color:\"info\"})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsxs(Paper,{sx:{p:3},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",fontWeight:\"bold\",gutterBottom:true,children:[\"Tiempo Promedio \",periodLabel]}),/*#__PURE__*/_jsxs(Box,{sx:{mt:2},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',mb:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Duraci\\xF3n de llamada:\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",fontWeight:\"bold\",children:[Math.round(((_mainData9=mainData)===null||_mainData9===void 0?void 0:_mainData9.avg_duration)||0),\" seg\"]})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',mb:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Tiempo de espera:\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",fontWeight:\"bold\",children:[Math.round(((_mainData0=mainData)===null||_mainData0===void 0?void 0:_mainData0.avg_wait_time)||0),\" seg\"]})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Llamada m\\xE1s larga:\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",fontWeight:\"bold\",children:[Math.round(((_mainData1=mainData)===null||_mainData1===void 0?void 0:_mainData1.max_talk_time)||0),\" seg\"]})]})]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsxs(Paper,{sx:{p:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",fontWeight:\"bold\",gutterBottom:true,children:\"Resumen Semanal\"}),/*#__PURE__*/_jsxs(Box,{sx:{mt:2},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',mb:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Total llamadas:\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",fontWeight:\"bold\",children:(week===null||week===void 0?void 0:week.total_calls)||0})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',mb:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Contestadas:\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",fontWeight:\"bold\",color:\"success.main\",children:[(week===null||week===void 0?void 0:week.answered_calls)||0,\" (\",(week===null||week===void 0?void 0:week.answer_rate)||0,\"%)\"]})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Abandonadas:\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",fontWeight:\"bold\",color:\"error.main\",children:(week===null||week===void 0?void 0:week.abandoned_calls)||0})]})]})]})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,sx:{mt:1},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,lg:8,children:/*#__PURE__*/_jsxs(Paper,{sx:{p:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Llamadas Durante el D\\xEDa (Por Hora)\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(BarChart,{data:hourlyData,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"hour\",label:{value:'Hora del Día',position:'insideBottom',offset:-5},tickFormatter:hour=>\"\".concat(hour,\":00h\")}),/*#__PURE__*/_jsx(YAxis,{label:{value:'Cantidad de Llamadas',angle:-90,position:'insideLeft'}}),/*#__PURE__*/_jsx(Tooltip,{labelFormatter:hour=>\"Hora: \".concat(hour,\":00\"),formatter:(value,name)=>[value,name]}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"answered_calls\",name:\"Contestadas\",fill:\"#4caf50\"}),/*#__PURE__*/_jsx(Bar,{dataKey:\"missed_calls\",name:\"No Contestadas\",fill:\"#f44336\"})]})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,lg:4,children:/*#__PURE__*/_jsxs(Paper,{sx:{p:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Tasa de Abandono\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:[{name:'Atendidas',value:((_mainData10=mainData)===null||_mainData10===void 0?void 0:_mainData10.answered_calls)||0,fill:'#4caf50'},{name:'Abandonadas',value:((_mainData11=mainData)===null||_mainData11===void 0?void 0:_mainData11.abandoned_calls)||0,fill:'#ff9800'},{name:'Sin Respuesta',value:(((_mainData12=mainData)===null||_mainData12===void 0?void 0:_mainData12.total_calls)||0)-(((_mainData13=mainData)===null||_mainData13===void 0?void 0:_mainData13.answered_calls)||0)-(((_mainData14=mainData)===null||_mainData14===void 0?void 0:_mainData14.abandoned_calls)||0),fill:'#f44336'}],cx:\"50%\",cy:\"50%\",labelLine:false,label:_ref2=>{let{name,percent}=_ref2;return\"\".concat(name,\": \").concat((percent*100).toFixed(0),\"%\");},outerRadius:80,dataKey:\"value\"}),/*#__PURE__*/_jsx(Tooltip,{})]})}),/*#__PURE__*/_jsxs(Box,{sx:{mt:2,textAlign:'center'},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h4\",color:\"warning.main\",children:[(_mainData15=mainData)!==null&&_mainData15!==void 0&&_mainData15.abandoned_calls&&(_mainData16=mainData)!==null&&_mainData16!==void 0&&_mainData16.total_calls?(mainData.abandoned_calls/mainData.total_calls*100).toFixed(1):0,\"%\"]}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Tasa de Abandono Total\"})]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Paper,{sx:{p:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Tiempo de Espera Promedio por Hora (En Segundos)\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(LineChart,{data:hourlyData,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"hour\",label:{value:'Hora del Día',position:'insideBottom',offset:-5},tickFormatter:hour=>\"\".concat(hour,\":00h\")}),/*#__PURE__*/_jsx(YAxis,{label:{value:'Tiempo de Espera (segundos)',angle:-90,position:'insideLeft'}}),/*#__PURE__*/_jsx(Tooltip,{labelFormatter:hour=>\"Hora: \".concat(hour,\":00\"),formatter:value=>[\"\".concat(value,\" segundos\"),'Tiempo de Espera']}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"avg_wait_time\",name:\"Tiempo Espera Promedio (seg)\",stroke:\"#2196f3\",strokeWidth:2,dot:{r:4}})]})})]})})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","Box","Grid","Paper","Typography","Card","CardContent","CircularProgress","Alert","TextField","Button","FormControlLabel","Switch","Phone","CheckCircle","Cancel","TrendingUp","AccessTime","People","dashboardAPI","callsAPI","format","es","LineChart","Line","BarChart","Bar","PieChart","Pie","Cell","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","StatCard","_ref","title","value","subtitle","icon","Icon","color","trend","sx","height","position","overflow","children","display","justifyContent","alignItems","gutterBottom","variant","component","fontWeight","mt","fontSize","mr","bgcolor","concat","borderRadius","p","Dashboard","_mainData","_comparisonData","_mainData2","_comparisonData2","_mainData3","_mainData4","_mainData5","_mainData6","_mainData7","_mainData8","_mainData9","_mainData0","_mainData1","_mainData10","_mainData11","_mainData12","_mainData13","_mainData14","_mainData15","_mainData16","loading","setLoading","error","setError","data","setData","lastUpdate","setLastUpdate","Date","hourlyData","setHourlyData","dispositionData","setDispositionData","today","toISOString","split","yesterday","now","selectedDate","setSelectedDate","useRealtime","setUseRealtime","fetchData","dateToFetch","arguments","length","undefined","_hourlyResponse$data$","_dispositionResponse$","response","getSummary","targetDate","hourlyResponse","getHourlyDistribution","dispositionResponse","getDispositionSummary","err","message","interval","setInterval","clearInterval","minHeight","size","severity","m","todayData","yesterdayData","week","queues","agents","mainData","comparisonData","periodLabel","hasDataToday","total_calls","toLocaleDateString","day","month","calculateTrend","current","previous","Math","round","callsTrend","answeredTrend","answered_calls","activeAgents","filter","a","status","flexGrow","mb","locale","container","spacing","item","xs","sm","md","control","checked","onChange","e","target","label","type","InputLabelProps","shrink","fullWidth","onClick","disabled","answer_rate","abandoned_calls","avg_duration","avg_wait_time","max_talk_time","lg","width","strokeDasharray","dataKey","offset","tickFormatter","hour","angle","labelFormatter","formatter","name","fill","cx","cy","labelLine","_ref2","percent","toFixed","outerRadius","textAlign","stroke","strokeWidth","dot","r"],"sources":["/opt/callcenter-analytics/frontend/src/components/Dashboard.jsx"],"sourcesContent":["// components/Dashboard.jsx\nimport React, { useState, useEffect } from 'react';\nimport {\n  Box,\n  Grid,\n  Paper,\n  Typography,\n  Card,\n  CardContent,\n  CircularProgress,\n  Alert,\n  TextField,\n  Button,\n  FormControlLabel,\n  Switch,\n} from '@mui/material';\nimport {\n  Phone,\n  CheckCircle,\n  Cancel,\n  TrendingUp,\n  AccessTime,\n  People,\n} from '@mui/icons-material';\nimport { dashboardAPI, callsAPI } from '../services/api';\nimport { format } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport {\n  LineChart, Line, BarChart, Bar, PieChart, Pie, Cell,\n  XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer\n} from 'recharts';\n\n// Componente de tarjeta de estadística\nconst StatCard = ({ title, value, subtitle, icon: Icon, color, trend }) => (\n  <Card sx={{ height: '100%', position: 'relative', overflow: 'visible' }}>\n    <CardContent>\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\n        <Box>\n          <Typography color=\"text.secondary\" gutterBottom variant=\"overline\">\n            {title}\n          </Typography>\n          <Typography variant=\"h4\" component=\"div\" fontWeight=\"bold\">\n            {value}\n          </Typography>\n          {subtitle && (\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\n              {subtitle}\n            </Typography>\n          )}\n          {trend && (\n            <Box sx={{ display: 'flex', alignItems: 'center', mt: 1 }}>\n              <TrendingUp \n                sx={{ \n                  fontSize: 16, \n                  mr: 0.5, \n                  color: trend > 0 ? 'success.main' : 'error.main' \n                }} \n              />\n              <Typography \n                variant=\"body2\" \n                color={trend > 0 ? 'success.main' : 'error.main'}\n              >\n                {trend > 0 ? '+' : ''}{trend}% vs ayer\n              </Typography>\n            </Box>\n          )}\n        </Box>\n        <Box\n          sx={{\n            bgcolor: `${color}.main`,\n            borderRadius: 2,\n            p: 1.5,\n            color: 'white',\n          }}\n        >\n          <Icon sx={{ fontSize: 32 }} />\n        </Box>\n      </Box>\n    </CardContent>\n  </Card>\n);\n\nconst Dashboard = () => {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [data, setData] = useState(null);\n  const [lastUpdate, setLastUpdate] = useState(new Date());\n  const [hourlyData, setHourlyData] = useState([]);\n  const [dispositionData, setDispositionData] = useState([]);\n\n  // Filtros de fecha\n  const today = new Date().toISOString().split('T')[0];\n  const yesterday = new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString().split('T')[0];\n\n  const [selectedDate, setSelectedDate] = useState(today);\n  const [useRealtime, setUseRealtime] = useState(true);\n\n  const fetchData = async (dateToFetch = null) => {\n    try {\n      setError(null);\n      const response = await dashboardAPI.getSummary();\n      setData(response.data.data);\n\n      // Usar la fecha seleccionada o la actual (asegurarse de que sea string)\n      let targetDate = dateToFetch || selectedDate || today;\n\n      // Si es un objeto Date, convertir a string\n      if (targetDate instanceof Date) {\n        targetDate = targetDate.toISOString().split('T')[0];\n      }\n\n      // Cargar datos para gráficos\n      const hourlyResponse = await callsAPI.getHourlyDistribution(targetDate, targetDate);\n      setHourlyData(hourlyResponse.data.data?.data || []);\n\n      const dispositionResponse = await callsAPI.getDispositionSummary(targetDate, targetDate);\n      setDispositionData(dispositionResponse.data.data?.data || []);\n\n      setLastUpdate(new Date());\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n\n    // Actualizar cada 30 segundos solo si está en modo tiempo real\n    let interval;\n    if (useRealtime) {\n      interval = setInterval(fetchData, 30000);\n    }\n\n    return () => {\n      if (interval) clearInterval(interval);\n    };\n  }, [useRealtime, selectedDate]);\n\n  if (loading) {\n    return (\n      <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: '60vh' }}>\n        <CircularProgress size={60} />\n      </Box>\n    );\n  }\n\n  if (error) {\n    return (\n      <Alert severity=\"error\" sx={{ m: 2 }}>\n        Error al cargar el dashboard: {error}\n      </Alert>\n    );\n  }\n\n  const { today: todayData, yesterday: yesterdayData, week, queues, agents } = data;\n\n  // Determinar qué datos mostrar según la fecha seleccionada\n  let mainData, comparisonData, periodLabel;\n\n  if (useRealtime) {\n    // Modo tiempo real: muestra hoy si tiene datos, sino ayer\n    const hasDataToday = (todayData?.total_calls || 0) > 0;\n    mainData = hasDataToday ? todayData : yesterdayData;\n    comparisonData = hasDataToday ? yesterdayData : null;\n    periodLabel = hasDataToday ? 'Hoy' : 'Ayer (Últimos datos)';\n  } else {\n    // Modo manual: mostrar la fecha seleccionada\n    if (selectedDate === today) {\n      mainData = todayData;\n      comparisonData = yesterdayData;\n      periodLabel = 'Hoy';\n    } else if (selectedDate === yesterday) {\n      mainData = yesterdayData;\n      comparisonData = null;\n      periodLabel = 'Ayer';\n    } else {\n      // Para otras fechas, usar los datos de ayer como referencia\n      mainData = yesterdayData;\n      comparisonData = null;\n      periodLabel = new Date(selectedDate).toLocaleDateString('es-ES', {\n        day: 'numeric',\n        month: 'short'\n      });\n    }\n  }\n\n  // Calcular tendencias\n  const calculateTrend = (current, previous) => {\n    if (!previous || previous === 0) return 0;\n    return Math.round(((current - previous) / previous) * 100);\n  };\n\n  const callsTrend = comparisonData ? calculateTrend(\n    mainData?.total_calls || 0,\n    comparisonData?.total_calls || 0\n  ) : 0;\n\n  const answeredTrend = comparisonData ? calculateTrend(\n    mainData?.answered_calls || 0,\n    comparisonData?.answered_calls || 0\n  ) : 0;\n\n  // Contar agentes activos\n  const activeAgents = agents?.filter(a => a.status !== 'UNAVAILABLE').length || 0;\n\n  return (\n    <Box sx={{ flexGrow: 1, p: 3 }}>\n      {/* Header */}\n      <Box sx={{ mb: 3 }}>\n        <Typography variant=\"h4\" fontWeight=\"bold\" gutterBottom>\n          Dashboard General\n        </Typography>\n        <Typography variant=\"body2\" color=\"text.secondary\">\n          Última actualización: {format(lastUpdate, \"dd 'de' MMMM, HH:mm:ss\", { locale: es })}\n        </Typography>\n      </Box>\n\n      {/* Filtros */}\n      <Paper sx={{ p: 2, mb: 3 }}>\n        <Grid container spacing={2} alignItems=\"center\">\n          <Grid item xs={12} sm={6} md={4}>\n            <FormControlLabel\n              control={\n                <Switch\n                  checked={useRealtime}\n                  onChange={(e) => setUseRealtime(e.target.checked)}\n                  color=\"primary\"\n                />\n              }\n              label=\"Auto-actualización (Tiempo Real)\"\n            />\n          </Grid>\n\n          {!useRealtime && (\n            <>\n              <Grid item xs={12} sm={6} md={3}>\n                <TextField\n                  label=\"Fecha\"\n                  type=\"date\"\n                  value={selectedDate}\n                  onChange={(e) => setSelectedDate(e.target.value)}\n                  InputLabelProps={{ shrink: true }}\n                  fullWidth\n                  size=\"small\"\n                />\n              </Grid>\n              <Grid item xs={12} sm={6} md={2}>\n                <Button\n                  variant=\"outlined\"\n                  onClick={() => setSelectedDate(today)}\n                  fullWidth\n                  size=\"small\"\n                >\n                  Hoy\n                </Button>\n              </Grid>\n              <Grid item xs={12} sm={6} md={2}>\n                <Button\n                  variant=\"outlined\"\n                  onClick={() => setSelectedDate(yesterday)}\n                  fullWidth\n                  size=\"small\"\n                >\n                  Ayer\n                </Button>\n              </Grid>\n            </>\n          )}\n\n          <Grid item xs={12} sm={6} md={useRealtime ? 2 : 1}>\n            <Button\n              variant=\"contained\"\n              onClick={fetchData}\n              fullWidth\n              size=\"small\"\n              disabled={loading}\n            >\n              Actualizar\n            </Button>\n          </Grid>\n        </Grid>\n\n        {!useRealtime && (\n          <Alert severity=\"info\" sx={{ mt: 2 }}>\n            Modo manual activado. Mostrando datos de: <strong>{periodLabel}</strong>\n            {selectedDate === today && (todayData?.total_calls || 0) === 0 && (\n              <> - No hay llamadas registradas aún para hoy.</>\n            )}\n          </Alert>\n        )}\n      </Paper>\n\n      {/* Estadísticas principales */}\n      <Grid container spacing={3} sx={{ mb: 3 }}>\n        <Grid item xs={12} sm={6} md={3}>\n          <StatCard\n            title={`Llamadas ${periodLabel}`}\n            value={mainData?.total_calls || 0}\n            subtitle={`${week?.total_calls || 0} esta semana`}\n            icon={Phone}\n            color=\"primary\"\n            trend={callsTrend}\n          />\n        </Grid>\n\n        <Grid item xs={12} sm={6} md={3}>\n          <StatCard\n            title=\"Contestadas\"\n            value={mainData?.answered_calls || 0}\n            subtitle={`${mainData?.answer_rate || 0}% tasa de respuesta`}\n            icon={CheckCircle}\n            color=\"success\"\n            trend={answeredTrend}\n          />\n        </Grid>\n\n        <Grid item xs={12} sm={6} md={3}>\n          <StatCard\n            title=\"Abandonadas\"\n            value={mainData?.abandoned_calls || 0}\n            subtitle={`${Math.round((mainData?.abandoned_calls || 0) / (mainData?.total_calls || 1) * 100)}% del total`}\n            icon={Cancel}\n            color=\"error\"\n          />\n        </Grid>\n\n        <Grid item xs={12} sm={6} md={3}>\n          <StatCard\n            title=\"Agentes\"\n            value={activeAgents > 0 ? activeAgents : 4}\n            subtitle={activeAgents > 0 ? `${agents?.length || 0} total` : '4 configurados'}\n            icon={People}\n            color=\"info\"\n          />\n        </Grid>\n      </Grid>\n\n      {/* Métricas adicionales */}\n      <Grid container spacing={3}>\n        <Grid item xs={12} md={6}>\n          <Paper sx={{ p: 3 }}>\n            <Typography variant=\"h6\" fontWeight=\"bold\" gutterBottom>\n              Tiempo Promedio {periodLabel}\n            </Typography>\n            <Box sx={{ mt: 2 }}>\n              <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 2 }}>\n                <Typography variant=\"body2\">Duración de llamada:</Typography>\n                <Typography variant=\"body2\" fontWeight=\"bold\">\n                  {Math.round(mainData?.avg_duration || 0)} seg\n                </Typography>\n              </Box>\n              <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 2 }}>\n                <Typography variant=\"body2\">Tiempo de espera:</Typography>\n                <Typography variant=\"body2\" fontWeight=\"bold\">\n                  {Math.round(mainData?.avg_wait_time || 0)} seg\n                </Typography>\n              </Box>\n              <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\n                <Typography variant=\"body2\">Llamada más larga:</Typography>\n                <Typography variant=\"body2\" fontWeight=\"bold\">\n                  {Math.round(mainData?.max_talk_time || 0)} seg\n                </Typography>\n              </Box>\n            </Box>\n          </Paper>\n        </Grid>\n\n        <Grid item xs={12} md={6}>\n          <Paper sx={{ p: 3 }}>\n            <Typography variant=\"h6\" fontWeight=\"bold\" gutterBottom>\n              Resumen Semanal\n            </Typography>\n            <Box sx={{ mt: 2 }}>\n              <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 2 }}>\n                <Typography variant=\"body2\">Total llamadas:</Typography>\n                <Typography variant=\"body2\" fontWeight=\"bold\">\n                  {week?.total_calls || 0}\n                </Typography>\n              </Box>\n              <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 2 }}>\n                <Typography variant=\"body2\">Contestadas:</Typography>\n                <Typography variant=\"body2\" fontWeight=\"bold\" color=\"success.main\">\n                  {week?.answered_calls || 0} ({week?.answer_rate || 0}%)\n                </Typography>\n              </Box>\n              <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\n                <Typography variant=\"body2\">Abandonadas:</Typography>\n                <Typography variant=\"body2\" fontWeight=\"bold\" color=\"error.main\">\n                  {week?.abandoned_calls || 0}\n                </Typography>\n              </Box>\n            </Box>\n          </Paper>\n        </Grid>\n      </Grid>\n\n      {/* Gráficos */}\n      <Grid container spacing={3} sx={{ mt: 1 }}>\n        {/* Gráfico 1: Llamadas por Hora del Día */}\n        <Grid item xs={12} lg={8}>\n          <Paper sx={{ p: 2 }}>\n            <Typography variant=\"h6\" gutterBottom>\n              Llamadas Durante el Día (Por Hora)\n            </Typography>\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <BarChart data={hourlyData}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis\n                  dataKey=\"hour\"\n                  label={{ value: 'Hora del Día', position: 'insideBottom', offset: -5 }}\n                  tickFormatter={(hour) => `${hour}:00h`}\n                />\n                <YAxis label={{ value: 'Cantidad de Llamadas', angle: -90, position: 'insideLeft' }} />\n                <Tooltip\n                  labelFormatter={(hour) => `Hora: ${hour}:00`}\n                  formatter={(value, name) => [value, name]}\n                />\n                <Legend />\n                <Bar dataKey=\"answered_calls\" name=\"Contestadas\" fill=\"#4caf50\" />\n                <Bar dataKey=\"missed_calls\" name=\"No Contestadas\" fill=\"#f44336\" />\n              </BarChart>\n            </ResponsiveContainer>\n          </Paper>\n        </Grid>\n\n        {/* Gráfico 2: Tasa de Abandono */}\n        <Grid item xs={12} lg={4}>\n          <Paper sx={{ p: 2 }}>\n            <Typography variant=\"h6\" gutterBottom>\n              Tasa de Abandono\n            </Typography>\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <PieChart>\n                <Pie\n                  data={[\n                    { name: 'Atendidas', value: mainData?.answered_calls || 0, fill: '#4caf50' },\n                    { name: 'Abandonadas', value: mainData?.abandoned_calls || 0, fill: '#ff9800' },\n                    { name: 'Sin Respuesta', value: (mainData?.total_calls || 0) - (mainData?.answered_calls || 0) - (mainData?.abandoned_calls || 0), fill: '#f44336' }\n                  ]}\n                  cx=\"50%\"\n                  cy=\"50%\"\n                  labelLine={false}\n                  label={({ name, percent }) => `${name}: ${(percent * 100).toFixed(0)}%`}\n                  outerRadius={80}\n                  dataKey=\"value\"\n                >\n                </Pie>\n                <Tooltip />\n              </PieChart>\n            </ResponsiveContainer>\n            <Box sx={{ mt: 2, textAlign: 'center' }}>\n              <Typography variant=\"h4\" color=\"warning.main\">\n                {mainData?.abandoned_calls && mainData?.total_calls\n                  ? ((mainData.abandoned_calls / mainData.total_calls) * 100).toFixed(1)\n                  : 0}%\n              </Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                Tasa de Abandono Total\n              </Typography>\n            </Box>\n          </Paper>\n        </Grid>\n\n        {/* Gráfico 3: Distribución de Tiempos de Espera */}\n        <Grid item xs={12}>\n          <Paper sx={{ p: 2 }}>\n            <Typography variant=\"h6\" gutterBottom>\n              Tiempo de Espera Promedio por Hora (En Segundos)\n            </Typography>\n            <ResponsiveContainer width=\"100%\" height={250}>\n              <LineChart data={hourlyData}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis\n                  dataKey=\"hour\"\n                  label={{ value: 'Hora del Día', position: 'insideBottom', offset: -5 }}\n                  tickFormatter={(hour) => `${hour}:00h`}\n                />\n                <YAxis\n                  label={{ value: 'Tiempo de Espera (segundos)', angle: -90, position: 'insideLeft' }}\n                />\n                <Tooltip\n                  labelFormatter={(hour) => `Hora: ${hour}:00`}\n                  formatter={(value) => [`${value} segundos`, 'Tiempo de Espera']}\n                />\n                <Legend />\n                <Line\n                  type=\"monotone\"\n                  dataKey=\"avg_wait_time\"\n                  name=\"Tiempo Espera Promedio (seg)\"\n                  stroke=\"#2196f3\"\n                  strokeWidth={2}\n                  dot={{ r: 4 }}\n                />\n              </LineChart>\n            </ResponsiveContainer>\n          </Paper>\n        </Grid>\n      </Grid>\n    </Box>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}